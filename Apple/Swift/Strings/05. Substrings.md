# Substrings

When you slice a string in Swift 4 you do not get back a String you get a Substring. A Substring has most of the same methods as a String (it conforms to `StringProtocol`) which makes life easy.

Substrings arenâ€™t suitable for long-term storage because `Substrings` reference the orginal `String` so the system has to hold on the entire `String` for as long as the `Substring` is around.

Thus, whenever you are done manipulating your `Substring`, convert it to a `String`:

```swift
let myString = String(mySubstring)
```

## Getting substrings

The following examples show how to get a `substring` in Swift.

All of the following examples use

```swift
var str = "Hello, playground"
```

## startIndex and endIndex

`startIndex` is the index of the first character
`endIndex` is the index after the last character.
Example

```swift
// character
str[str.startIndex] // H
str[str.endIndex]   // error: after last character

// range
let range = str.startIndex..<str.endIndex
str[range]  // "Hello, playground"
```

## Creating A Range With `...` Or `..<` Operators

```swift
With Swift 4's one-sided ranges, the range can be simplified to one of the following forms.

```swift
let range = str.startIndex...
let range = ..<str.endIndex
```

Example:

```swift
let endOfDomain = fqdn.index(fqdn.endIndex, offsetBy: -4)
let rangeOfDomain = fqdn.startIndex ..< endOfDomain
fqdn[rangeOfDomain] // useyourloaf
```

## after

As in: `index(after: String.Index)`

after refers to the index of the character directly after the given index.

Examples:

```swift
// character
let index = str.index(after: str.startIndex)
str[index]  // "e"

// range
let range = str.index(after: str.startIndex)..<str.endIndex
str[range]  // "ello, playground"
```

## before

As in: `index(before: String.Index)`

before refers to the index of the character directly before the given index.
Examples

```swift
// character
let index = str.index(before: str.endIndex)
str[index]  // d

// range
let range = str.startIndex..<str.index(before: str.endIndex)
str[range]  // Hello, playgroun
```

## offsetBy

As in: `index(String.Index, offsetBy: String.IndexDistance)`

The offsetBy value can be positive or negative and starts from the given index. Although it is of the type String.IndexDistance, you can give it an Int.
Examples

```swift
// character
let index = str.index(str.startIndex, offsetBy: 7)
str[index]  // p

// range
let start = str.index(str.startIndex, offsetBy: 7)
let end = str.index(str.endIndex, offsetBy: -6)
let range = start..<end
str[range]  // play
```

## limitedBy

As in: `index(String.Index, offsetBy: String.IndexDistance, limitedBy: String.Index)`

The `limitedBy` is useful for making sure that the offset does not cause the index to go out of bounds. It is a bounding index. Since it is possible for the offset to exceed the limit, this method returns an Optional. It returns nil if the index is out of bounds.
Example

```swift
// character
if let index = str.index(str.startIndex, offsetBy: 7, limitedBy: str.endIndex) {
    str[index]  // p
}
```

If the offset had been 77 instead of 7, then the if statement would have been skipped.

## Returning The Range Of A Matching Substring

To return the range of a matching substring or nil if not found:

```swift
if let rangeOfTLD = fqdn.range(of: "com") {
  let tld = fqdn[rangeOfTLD] // "com"
}
```
