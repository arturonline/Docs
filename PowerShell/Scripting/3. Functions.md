# Functions

>âš  [More Info](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_functions?view=powershell-6)

A function is a list of PowerShell statements that has a name that you assign. When you run a function, you type the function name. The statements in the list run as if you had typed them at the command prompt.

```powershell
function Add-Numbers {
 $args[0] + $args[1]
}

PS C:\> Add-Numbers 5 10
15
```

A similar function with named parameters:

```powershell
function Output-SalesTax {
 param( [int]$Price, [int]$Tax )
 $Price + $Tax
}

PS C:\> Output-SalesTax -price 1000 -tax 38
1038
```

To display the definition of a function several methods can be used:

```powershell
cat function:Add-Numbers
```

or

```powershell
${function:Add-Numbers}
```

or

```powershell
(get-command Add-Numbers).definition
```

To list all functions in the current session:

```powershell
get-command -CommandType function
```

N.B in a block of code you need to define the function before you call it.

Don't add brackets around the function parameters:

```powershell
$result = Add-Numbers (5, 10) --Wrong!
$result = Add-Numbers 5 10    --Right
```

## Scope

A function exists in the scope in which it was created.

If a function is part of a script, the function is available to statements within that script. By default, a function in a script is not available at the command prompt.

You can specify the scope of a function. For example, the function is added to the global scope in the following example:

```PowerShell
function global:Get-DependentSvs {
  Get-Service | Where-Object {$_.DependentServices}
}
```

When a function is in the global scope, you can use the function in scripts, in functions, and at the command line.

Functions normally create a scope. The items created in a function, such as variables, exist only in the function scope.

To persist a variable, so the function can be called repeatedly and the variable will retain it's last value, prepend `$script:` to the variable name, e.g. `$script:myvar`

To make a variable global prepend `$global:` to the variable name, e.g. `$global:myvar`